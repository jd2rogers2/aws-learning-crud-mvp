##### Udemy course
### section 3 - cloud computing
- deployment models
    - private cloud
        - company owns remote servers, managed by provider
    - public cloud
        - company rents servers
        - economies of scale
            - we only pay for what we need
            - they provide cheaper product because they can afford scale
        - on demand
        - self service
    - on prem
        - we handle everything
    - Infra as a Service
        - they handle:
            - networking
            - storage
            - computers
        - i.e. EC2
        - we handle:
            - OS
            - middleware
            - runtime
            - app + data
    - Platform as a Service
        - infra managed by them
        - we manage just app + data
        - i.e. Elastic Beanstalk
    - Software as a Service
        - working product provided by them
- geography
    - regions
        - a cluster of data centers
        - most services scoped to a region
        - services aren't available in all regions
        - i.e. "us-northwest"
    - availability zones
        - within a region
        - i.e. "us-northwest-1a"
        - separate from each other for availability purposes
    - global services
        - iam
- shared responsibility model
    - we're responsible for security of what we put in the cloud
    - they're responsible for security of network, hardware

### section 4 - IAM
- global service
- root user = do not use except to create admin user and other users
- IAM users (devs)
    - these still use the root user account_id or alias. so it feels like they're really sub-users
    - create these accounts and then send the signin link to them
    - they should set up MFA
    - they should set a new pw on first sign in
    - they configure their local terminal by creating an access key and secret
    - can also use the cloud shell
    - create multiple access keys for different integrations (i.e. sdk (app layer lib use))
- groups
    - a set of users
    - can be assigned policies at this level
- policies
    - what the assigned (group or user) is allowed to do
    - json
        - statement: [{}]
            - effect - "deny" || "allow"
            - service - which AWS product
            - action/ability i.e. GetUser
- roles
    - like a user but for a service
    - for when a service needs to perform an action
    - that way we can allow or deny service integrations
    - can be assigned to individual service instances (i.e. an EC2 vm)
- best practices
    - MFA
    - rotate keys every X (90) days

### section 5 - EC2
- he had me set up a "budget"
    - i had to leave the NpC org to do this. orgs must own billing if you're part of one
    - budgets are basically alerts for a billing threshold
- EC2 = elastic compute cloud
- it's infra as a service
- it's made up of:
    - instances = the hardware
    - EBS - elastic block store
        - data volumes
    - ELB - elastic load balancer
    - ASG - auto scaling group
- lots of config options
    - cloud (EBS || EFS) storage or local (on the EC2 instance)
    - OS (mac|linux|win)
    - CPU
    - how much ram
    - network card (?)
    - firewall rules
    - startup/bootstrap script "user data"
        - only on first startup
- t2.micro - is the type of instance we'll use most
    - part of free tier
    - 1GB ram
    - 1 CPU
    - only EBS storage
    - med/low performance (this is enough)
- creating my first instance
    - mostly within browser, filling out form for config
    - he provided a startup script
    - instances have public and private IP addresses
        - private is for within network
    - AMI = amazon machine image
        - like docker image but for spinning up instance
        - select OS, etc.
    - !! user data only runs on very first start, not on restart
- security groups
    - network perimssions for instance(s)
    - everything denied by default
    - can allow incoming IP, what port on instance is accessible
    - can allow another security group access (used for intra service connections)
    - use 0.0.0.0/0 to allow external connections, to a certain port, from anywhere
    - live outside of your instance
    - important ports to know:
        - 22 - ssh connections (including SFTP (secure/ssh FTD))
        - 21 - FTP
        - 80 - http
        - 443 - https
    - !!! connection timeouts 100% due to security groups
- ssh
    - for secure shell connection to our instances
    - use PUTTY for windows
    - can use "EC2 instance connect"
    - unix uses ssh command
    - add security group to allow ssh on port 22
    - mac cmd:
        - chmod 0400 ~/path/to/key.pem
        - ssh -i ~/path/to/key.pem ec2-user@[IPv4]
- more configs
    - so far, instances have been "on-demand"
        - no commitment
        - highest cost
    - other options:
        - reserved
            - 1 & 3 year plans
            - for long run time jobs (DB)
            - cheaper but locks you in for longer
        - spot instances - idk the diff between on-demand
            - UNRELIABLE
        - dedicated host - you get the whole server
        - dedicated instance - you don't share hardware
### section 6 - EC2 storage
- EBS volume
    - elastic block store
    - can only be mounted to 1 EC2 instance at a time
    - bound to specific availability zone
    - 30 GB/month
    - connects to EC2 instance via network
    - config GBs and I/O/s ahead of time
    - gp2 is the most common volume type
    - EXAM topic
        - can configure "delete on termination" property
        - EC2 instance comes with a "root" EBS which has "delete on term." turned on
    - CRUD with these volumes is very similar to EC2s
    - using the EBS from EC2 is out of scope for this course?!
    - can make snapshots to copy to a diff AZ or region, or to archive
    - un archiving takes 24-72 to come back online
    - config to keep EBS volume around for up to 1 year after deleting
    - the snapshot is not the actual volume, you create volumes from the snapshot
- EC2 instance store
    - better performance than EBS because it's a physical connection to your EC2 instance
    - but it's ephemeral!
- EFS
    - shared network file system
    - can be "mounted" to multiple EC2 instances
    - and across multiple availability zones
    - 3x more expensive than gp2
    - EFS-IA (infrequent access)
        - cold storage
    - use a lifecycle policy to auto move unused files to cold storage
- AMI overview (amzn machine image)
    - yes like an image in docker
    - using the "user data" bootup script from before, we can:
        1. create an EC2 instance
        2. create an image off of that
        3. faster! start up of instances made with new image
- EC2 image builder
    - way to test AMIs
    - creates test instance of the AMI
    - can config to run regularly, when new depencies update, etc.
    - lessons didn't actually run tests on an instance though :(
- shared responsibility model for EC2 instance storage
    - aws' responsibility
        - infra
        - replication process
        - replacing faulty hardware
        - employees cannot see data
    - our responsibility
        - backing up via snapshots, etc.
        - data encryption
        - responsible for all data on the hardware
        - understanding ephemeralness of EC2
- FSx
    - 3rd party storage option
    - shared file system
    - we set up FSx and it accesses non-aws data center
    - 3 types:
        - FSx for windows file server
        - FSx for Lustre (linux cluster)
### ELB & ASG
- Elastic load balancer & auto scaling groups
- MANAGED load balancer
    - aws maintains availability for you
- scalability = ability to grow vertically or horizontally, to handle more load
- elasticity = automated scaling
- 4 load balancer options
    - application load balancer
        - http/https only - layer 7
    - network load balancer
        - tcp - layer 4
        - ultra high perf
    - gateway load balancer
        - IP - layer 3
        - directs to 3rd party security service on your machine then to app layer
    - classic load balancer
        - retired 2023
        - layer 4, 7
- ELB (application load balancer) impl in aws ui
    - have existing EC2 instances
    - put them in a security group
        - that has the same port exposed via http, anywhere
    - point new ELB at that group
- ASG (auto scaling group) impl in aws ui
    - no existing EC2s
    - create ASG
    - create launch template (same as EC2 form)
    - connect to existing ELB
    - define scaling config
        - min (1), desired, max
    - deleted instances under the load balancer
    - created ASG and selected existing load balancer
    - terminate one instance and ASG brought up another automatically
- ASG dashboard shows activity history of elastic scales
- types of scaling
    - manual
    - dynamic
        - simple/step scaling - when avg load hits a certain limit, add or remove instance
        - target scaling - set desired load (40%) and will try to keep all instances around there
        - scheduled scaling - you define when to bring on more instances (you know when users will be online)
    - predicted scaling - AWS ML uses past activity to bring on more instances
### S3
- "infinitely" scaling storage
- static storage
    - good for static site host
- buckets with unique name across all regions
- buckets are globally available but live only within 1 region
- bucket names with alpha, num, and dash only
- object and file storage
- object store with keys for "location"
    - no real folders but ui displays it that way
- keys are really just unique strings, we use file structure path looking thing
    - s3://bucket-name/prefix/filename.txt
- objects have properties:
    - metadata
    - tags
    - version ID (if enabled)
- security for a bucket:
    - user based - IAM user policies
    - resource based
        - bucket or object policies
        - service roles (i.e. ec2 instance role)
    - encrypt objects with encryption key
    - policies
        - similar to IAM
        - they are json objects
        - key/vals:
            - resource[] = paths of bucket, directories, objects that the policy applies to
                - ...folder/* for all objects in folder
            - effect = allow | disallow
            - action = read, write, etc. i.e. "GetObject"
            - principal = who. * for everyone
        - use the policy generator to create one
        - there is an implicit deny
            - all requests are denied unless there is an explicit allow
- host static page on S3
    - toggle setting of ENTIRE bucket to 'enable static site hosting'
    - put an index.html file in there
- versioning
    - recommended
    - enable in "properties" tab
    - preserves old objects
    - objects prior to enable have version ID = null
    - 'show versions' toggle to view old objects
    - simple delete and it will auto roll back to previous version
    - delete null version:
        - and you can still see it in history
        - replaced by a 'delete marker' row
        - delete 'delete marker' to restore object
- replication
    - cross region replication and same region replication available
    - versioning must be enabled on both
    - copying is async
    - CRR used for:
        - compliance
        - lower latency in other regions
    - SRR used for:
        - replication between prod and test envs
    - impl:
        - configure in origin bucket management tab
        - create new replication rule
        - can configure all or subset of objects
        - specify destination bucket
        - option to replicate existing objects using batch job
        - verion ID of replica will match original
- storage classes
    - set at the object level
    - durability
        - eleven 9s = 99.999...%
        - you will lose 1 object per 10mil every thousand years
        - same durability across all classes
    - the classes:
        - standard
            - availability = 99.99% = 53m/y
            - frequently accessed data, low latency, high output
            - used for big data analytics, mobile + gaming, content distrib.
            - no retrieval fee
        - standard - infrequent access
            - 99.9% availability
            - disaster recovery, backups
            - lower cost than standard
            - retrieval fee per GB
        - one zone - infrequent access
            - only in one AZ, risk if warehouse is destroyed
        - glacier
            - min 90 day storage
            - instant retrieval
                - millisecond retrieval
                - ideal for per quarter retrieval
            - flexible retrieval
                - retrieval options of 1-5 min, 3-5 hrs, 5-12 hrs 
            - deep archive
                - 12 hour standard retrieval
                - 48 hour bulk retrieval
                - min 180 days
        - intelligent tiering
            - monthly monitoring and auto-tiering fees
            - moves between tiers automatically
            - no retrieval charges
- lifecycle rules
    - moves objects between classes after [x] days
    - management tab on the s3 bucket
    - applied to whole bucket or filtered subset
- encryption
    - server side or client side
    - both options available
    - server side is always on
- shared responsibility model
    - they handle infra
    - incl 3 AZs, so up to 2 AZs can fail
    - we handle:
        - versioning set up
        - bucket policies set up
        - replication set up
        - logging, montioring
        - storage class config
        - client side encryption
- snow family
    - portable devices
    - for edge computing
        - preprocess
        - ML
    - for data migration into and out of AWS
    - snowcone
        - smallest
        - migration
            - 8 and 14 TB options
        - compute
            - smaller
            - 2 cpus, 4 gb ram
    - snowball edge
        - medium, most cases under 10 TB
        - migration
            - pay per transfer job
            - 1 flavor for storage optimized
            - 1 flavor for compute optimized
        - compute
            - compute optimized
                - 104 vcpus, 416 gb ram, optional gpu
            - storage optimized
                - 40 vcpus, 80 gb ram, 80 TB storage
    - snowmobile
        - migration
            - literally a truck
            - 100 PBs = 100k TBs
            - 24/7 video surveillance
    - OpsHub CLI for using snow devices
- storage gateway
    - hybrid cloud
        - long migrations
        - security or compliance requirements
        - IT strategy (backup)
    - your on prem uses AWS S3 software
    - gateway is the physical bridge between prem <> cloud
    - can use block (EBS, EC2), file (EFS), or object (S3, glacier)
### Databases
- managed DB services
    - automated provisioning, OS patching
    - point-in-time restore = continuous backups and restore to specific timestamp
    - replicas for read action
    - multi AZ
    - easy vertical and horizontal scale
- CANNOT ssh into db server
- types
    - relational
        - RDS
            - PG, MySql, MSSql
        - Aurora
            - more expensive (not in free tier)
            - more performant (cloud optimized)
            - can run PG or MySql
    - NoSql
- RDS impl
    - it's own service listed in services
    - easy config (makes some choices for you based on big picture selection)
    - standard config (fully customized)
        - free tier check box (or prod or dev)
        - password connection is fine
        - create a security access group
    - once created, can take a snapshot
    - can take snapshots
        - can create a new/copy of this db via snap shot
        - can share
- RDS architecture
    - main + read replicas pattern
        - (including read replicas in other AZs)
            - for performance, back up reasons
            - at a cost of more data moving across network
    - failover replica (in different AZ) pattern
- ElastiCache
    - memcache or redis
- DynamoDB
    - fully managed
    - NoSql
    - serverless
    - more scalable than rdbms
    - replication across 3 AZs available
    - or make it global
        - "active-active" replication = 2 way from region to region (no master, can write to any region and it will be replicated)
    - autoscaling
    - standard + IA (infrequent access) available
    - impl
        - don't need to create a DB, it's "serverless"
        - create "table"
        - has UI for CRUDing documents
        - he didn't add any security checks
        - but i do see a way to add an access control policy
- DAX DynamoDB Accelerator
    - fully managed, in memory cache
- redshift
    - columnar, not row based
    - warehouse level
    - for analytics, BI
        - load data every hour, not real time
    - not for OLTP
    - sql interface
    - MPP massive parallel query execution
- EMR
    - elastic map reduce
    - hadoop cluster
- athena
    - serverless query service
    - sql
    - operates on S3
- quicksight
    - BI data viz dashboard
    - integrates with RDS, aurora, athena, etc.
- documentDb
    - aws impl of mongo db (fork)
- neptune
    - fully managed graph db
    - i.e. social networking, knowledge graphs (wikipedia = interconnected)
- QLDB - quantum ledger db
    - financial transactions
    - immutable data
    - used to review history of all changes made
        - cryptographic hash computed to guarantee nothing has been modified
        - journal for logging actions to db
    - centralized, as in separate from other ledgers
        - key difference with blockchain
- managed blockchain
    - multiple parties can execute without need for centralized authority
    - joins public blockchains
    - or scalable private network
    - compatible with ethereum and hyperledger fabric
- glue
    - etl
    - serverless
    - compatible with S3, RDS, etc.
- DMS = db migration service
    - one db service to another
    - source db stays available
    - supports heterogeneous migrations
        - from 1 type of db to another
### other compute servives
- ECS = elastic container service
    - running docker containers in AWS
    - manages start and stop of containers
    - built on EC2
    - can integrate with App Load Balancer
- Fargate
    - more docker in AWS
    - serverless
    - you don't provision infra
- ECR = elastic container registry
    - private image store
- Lambda
    - EC2 has:
        - limited CPU, RAM
        - continuously running
        - complex scaling (manual, detailed rules, takes time)
    - virtual functions
    - run on demand
    - limited by time - short executions
    - scaling is automated
    - pay per req.s and compute time
        - 1st 1MM requests free. $.20/MM after
        - 1st 400,000GBs free of RAM (processing)
            - (400k seconds of 1 GB use)
            - $1 per 600k GBs
    - can only run docker images based off lambda image
        - so ECS or fargate are preferred for docker containers
    - good for cron jobs
    - impl:
        - create new function btn
        - can configure runtime env (python, go, node, etc.)
        - browser IDE for writing code
        - test button to pass in event json
        - call or error is written to logs
### section 15 - vpc
- vitrual private cloud
    - linked to a specific region
    - subnet = network partition
        - public
            - use an IGW (internet gateway) plus a route to make a subnet public
        - or private
            - NAT gateway = aws managed, allows private subnet to access internet
            - or use a NAT instance (self managed)
        - tied to AZ
        - route table = defines access to subnets for public users (internet) and between subnets
- 1 is created by default when account is made
- elastic IPs
    - persist across EC2 shutdowns and restarts
    - pay when unused (because AWS has to keep the registered)
- EC2 private IPs are fixed across restarts
- VPC flow logs
    - all IP traffic for VPC
    - catches for all services: elasicache, ELB, aurora, RDS, etc.
    - need to configure and send to CloudWatch logs or S3 bucket
- VPC peering
    - makes A and B VPCs behave as if they were in the same network
    - IPs cannot overlap
    - not transitive (A <-> B <-> C, but A and C can't talk)
- VPC endpoints
    - connecting from private VPC EC2 instance to internal service
    - creates a gateway for S3 or DynamoDB
    - or creates an "interface" for any other service
- Client VPN = install and make your computer act as if it's in VPC



### udemy practice exam corrections
- CloudFront = CDN
- CloudWatch = logs for any service basically
    - SNS "simple notification services" - notifications for cloudwatch
- CloudTrail = big brother for aws users. tracks actions through UI, sdk, cli
- Trusted Advisor can help identiy EC2 underutilization
    - NOT Cost Explorer = mostly just for viewing actual costs
- VPC has multiple AZs in 1 region
    - NOT multiple edge locations
    - Edge Locations are data centers for specific services that would benefit from being physically nearby
        - cloud front (CDN)
        - web app firewall - don't bother send req far away if not auth'd
        - route 53, know where to send things directly early on saves searching
- monitoring EC2 instance utilization is in CloudWatch
    - NOT in systems manager, which is where you patch, etc. EC2 instances
- AWS Artifact - compliance related info
- AWS patches DB software for you
- Dedicated host - server fully dedicated to your EC2 instance
- SNS - simple notification service
    - pub/sub
    - SMS, email, push notifications
- SQS - simple queue service
    - it's a queue
- benefit of RDS - simplifies admin tasks
    - set up, patching, backups
- Code Commit - source code versioning
- if IT will manage DB use EC2
- EC2 is not managed! you must patch software
    - it's infra as a service
- Fargate = like lambda (serverless) but for container not functions
    - ECS (container) or EKS (kube) under the hood
- Aurora = SQL db
    - built on top of RDS
    - better reliability, storage, etc. less user mgmt
    - but more expensive
- Athena = SQL queries for S3
- Macie - ML optimized security and privacy detection/protection tool for analyzing S3
- CloudFormation = infra as code
- CDK
    - also IaC
    - built on top of CloudFormation
    - use any coding language instead of yaml??
- AWS mgmt console = aws.com
- Direct Connect = private network connection from on-prem -> aws
    - for hybrid solutions
    - just the connection
- AWS Outposts = bringing AWS services to on-prem
    - including vpc
    - "seemless hybrid xp"
## test 2
- AWS storage gateway - connects on premise workloads to AWS storage
    - migrations
- AZ = one or more physical data centers
    - region = us-east-1 so AZs are below that, unnamed
- EC2 price savings:
    - on demand - most expensive, standard EC2 purchase
    - spot instances - "give me the unused processing power"
    - reserved instances - long term, upfront
    - savings plan - also long commitment = cheaper
- pay-as-you-go pricing = trade upfront expenses for variable on-demand expenses
- aws personal health dash = health status of aws services
- credentials:
    - "access key id" = id
    - "secret access key" = pw
        - not "private key"
- AWS glue = ETL
- redshift = the data warehouse
- quicksight = BI dashboards
- WAF vs security group
    - security group is protecting just instance
    - WAF is in front of entire VPC
- Trusted Advisor flags services security groups that allow unrestricted access
- snowball edge has EC2 capabilities
- Amazon Inspector is an automated security assessment service (for EC2 instances)
- AWS Config - tracks service configuration changes
- AWS Total Cost of Ownership (TCO) calculator = compare pricing to on premise
- AWS Beanstalk = hosting, deploying, and scaling webapp services
    - automated config, but we can still control
- AWS Shield - managed DDoS protection
- shared responsiblity model:
    - customer responsible for security "IN" the cloud
        - customer data, IAM, applications
        - OS, network, firewall configs
        - encryption at client, network, and server
    - AWS responsible for security "OF" the cloud
        - their hardware and THEIR software
    - we need to update OS's
- OpsWorks = manage Puppet+Chef (IaC to config instance management)

## test 3
- network ACL
    - allow or deny rules
    - applies to all instances in subnet
- vs security group
    - only allow rules
    - group level only
- pay ahead services
    - EC2, DynamoDB, ElastiCache, RDS, and RedShift
- "rightsizing" = choosing right machine image for workload
    - cost optimization strategy
- support plans
    - developer
        - not for production
    - business
        - 24/7 tech support phone, web, chat
    - enterprise (and enterprise on-ramp)
        - 24/7 tech support phone, web, chat
        - technical acct mngr
- aws config = document, and track changes, to set up + relationships of aws services
- aws IAM ID center (SSO successor)
    - not Oauth
    - central mgmt of multiple aws IAM accounts
- "key pairs" = for ssh-ing into EC2 instance
- "access keys" = for programatic requests
- aws Guard Duty
    - continuous threat detection service
    - monitors accounts and workloads
- aws trusted advisor - automated checks on your resources for sec, cost opt, etc.
- aws inspector - automated vulnerability checks on EC2 instances
- aws macie - ML vulnerability checker on S3 data
- aws shield - ddos attack prevention
- aws cognito = oauth
- gateways:
    - routing
    - internet gateway:
        - 2 way VPC to internet connection
        - public vpc
    - NAT gateway:
        - 1 way VPC has access to internet
        - private VPC
        - keeps internal IPs private
    - transit gateway
        - connects on-prem or vpc to internet
    - storage gateway
        - not really the same kind of gateway
        - cloud backup/link to on-prem data w/ bonuses
    - virtual private gateway
        - ?????



@ #31

### solo research notes
- edge computing
    - storage or compute
    - happens at the site where data is stored or created
    - so physical device is sent to location
    - used for remote location, logistics (shipping trucks, boats), mining
    - so hybrid cloud as it's not in the cloud until transferred
- OLTP vs OLAP
    - online transaction processing
    - online analytical processing
- "serverless"
    - obvi still servers, we just don't manage them
    - i.e. S3, dynamoDb, fargate, lambda
- ACL = access control list
    - firewall w/ list of IPs
- data lake
    - raw unstructured data
    - indefinite storage
- data warehouse - processed data ready for analysis



#### cloud practitioner exam intro webinar
- test certifies:
    - general global infra
    - cloud architect principles
    - $ value of cloud
    - key services and use cases
    - security, compliance, shared sec. model
    - billing


TODOs:
- managed = we patch OS of EC2 after startup
- spot instances
- support plans


#### action items
- DONE - create admin group with "admin access" policy
- DONE - reread "roles" section to review as it's a new concept
- DONE - learn about VPC more!!!!
- !!!!! pearson vue has practice exams, take one



